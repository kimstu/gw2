$.fn.gw2tooltip=function(tip,x,y,m){var $this=$(this);var this_width=$this.width();var this_height=$this.height();$this.hover(function(){$(tip).show()},function(){$(tip).hide().removeAttr('style');$(tip).mouseover(function(){$(tip).show()})});$(document).mousemove(function(e){var scrollTop=$(document).scrollTop();var scrollLeft=$(document).scrollLeft();var windowWidth=$(window).width();var windowHeight=$(window).height();var tooltipWidth=$(tip).width();var tooltipHeight=$(tip).height();var x=6;var y=10;var m=3;var tooltipX=e.pageX+x;var tooltipY=e.pageY+y;if(scrollTop>tooltipY){$(tip).css({top:scrollTop+m});if(scrollLeft>tooltipX){$(tip).css({left:scrollLeft+m})}else if(scrollLeft+windowWidth<tooltipX+tooltipWidth+m){$(tip).css({left:scrollLeft+windowWidth-tooltipWidth-m})}else{$(tip).css({left:tooltipX})}}else if(scrollTop+windowHeight<tooltipY+tooltipHeight+m){$(tip).css({top:tooltipY-tooltipHeight-m-this_height});if(scrollLeft>tooltipX){$(tip).css({left:scrollLeft+m})}else if(scrollLeft+windowWidth<tooltipX+tooltipWidth+m){$(tip).css({left:scrollLeft+windowWidth-tooltipWidth-m})}else{$(tip).css({left:tooltipX})}}else{$(tip).css({top:tooltipY});if(scrollLeft>tooltipX){$(tip).css({left:scrollLeft+m})}else if(scrollLeft+windowWidth<tooltipX+tooltipWidth+m){$(tip).css({left:scrollLeft+windowWidth-tooltipWidth-m})}else{$(tip).css({left:tooltipX})}}$(tip).show()})};